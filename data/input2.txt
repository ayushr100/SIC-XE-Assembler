COPY START 0 
FIRST STL RETADR
CLOOP JSUB RDREC
LDA LENGTH 
COMP #0 
JEQ ENDFIL
J CLOOP
ENDFIL J @RETADR
USE CDATA
RETADR RESW 1
LENGTH RESW 1
USE CBLKS
BUFFER RESB 4096
BUFEND EQU *
MAXLEN EQU 4096
USE
RDREC CLEAR X 
CLEAR A
CLEAR S 
+LDT #MAXLEN
LOOP TD INPUT 
JEQ LOOP 
.GKJBHLNL
RD INPUT
COMPR A,S
JEQ EXIT 
 
STCH BUFFER,X
TIXR T
JLT LOOP
EXIT STX LENGTH
RSUB
USE CDATA
INPUT BYTE X'F3'
END FIRST